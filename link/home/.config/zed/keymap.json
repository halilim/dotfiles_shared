// Zed keymap
//
// For information on binding keys, see the Zed
// documentation: https://zed.dev/docs/key-bindings
//
// To see the default key bindings run `zed: open default keymap`
// from the command palette.

[
  { "context": "Editor", "bindings": {
    "alt-shift-f": "editor::Format",
    "ctrl-cmd-j": "editor::MoveLineDown",
    "ctrl-cmd-k": "editor::MoveLineUp",
    "ctrl-j":  "editor::GoToDiagnostic",
    "ctrl-k":  "editor::GoToPreviousDiagnostic",
  }},

  { "context": "Pane", "bindings": {
    "cmd-1": ["pane::ActivateItem", 0],
    "cmd-2": ["pane::ActivateItem", 1],
    "cmd-3": ["pane::ActivateItem", 2],
    "cmd-4": ["pane::ActivateItem", 3],
    "cmd-5": ["pane::ActivateItem", 4],
    "cmd-6": ["pane::ActivateItem", 5],
    "cmd-7": ["pane::ActivateItem", 6],
    "cmd-8": ["pane::ActivateItem", 7],
    "cmd-9": ["pane::ActivateItem", 8],
  }},

  { "context": "SettingsWindow", "bindings": {
    "cmd-1": ["settings_editor::FocusFile", 0],
    "cmd-2": ["settings_editor::FocusFile", 1],
    "cmd-3": ["settings_editor::FocusFile", 2],
    "cmd-4": ["settings_editor::FocusFile", 3],
    "cmd-5": ["settings_editor::FocusFile", 4],
    "cmd-6": ["settings_editor::FocusFile", 5],
    "cmd-7": ["settings_editor::FocusFile", 6],
    "cmd-8": ["settings_editor::FocusFile", 7],
    "cmd-9": ["settings_editor::FocusFile", 8],
  }},

  {"context": "!Editor || vim_mode == normal", "bindings": {
    ", , j": "zed::OpenSettingsFile",
    ", , k": "zed::OpenKeymapFile",

    ", d a": [ "pane::CloseAllItems", { "close_pinned": false } ],
    ", d e": [ "pane::CloseOtherItems", { "close_pinned": false } ],
  }},

  { "bindings": { "alt-cmd-,": "zed::OpenKeymap" }},

  {
    "context": "!ContextEditor > (Editor && mode == full)",
    "bindings": {
      "cmd-e": "pane::RevealInProjectPanel"
    }
  },

  {
    "context": "Workspace",
    "bindings": {
      "cmd-e": "project_panel::ToggleFocus",
      "cmd-shift-r": "debugger::Rerun"
    }
  },

  {
    "context": "(Workspace && !Terminal)",
    "bindings": {
      "cmd-r": [ "task::Rerun", { "reevaluate_context": false } ]
    }
  },
  {
    "context": "((vim_mode == helix_normal || vim_mode == helix_select) && !menu)",
    "bindings": {
      ", r n": "editor::Rename"
    }
  }
]
